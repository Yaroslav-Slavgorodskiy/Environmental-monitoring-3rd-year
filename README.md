# üåç Air Quality Monitoring API

REST API –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å—Ç–∞–Ω—Ü—ñ–π —Ç–∞ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è.

**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫:** Node.js, Express, MongoDB, Mongoose, Joi

---

## ‚ú® –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—Ü—ñ—è–º–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É;
* –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è;
* –ø–æ–≤–Ω—ñ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó;
* –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º;
* —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ airQuality.js
‚îÇ   ‚îî‚îÄ‚îÄ station.js
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ airQualityRoutes.js
‚îÇ   ‚îî‚îÄ‚îÄ stationRoutes.js
‚îú‚îÄ‚îÄ validations/
‚îÇ   ‚îú‚îÄ‚îÄ airQualityValidation.js
‚îÇ   ‚îî‚îÄ‚îÄ stationValidation.js
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ Database.js
‚îú‚îÄ‚îÄ api-tests.http
‚îî‚îÄ‚îÄ package.json
```

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è         | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                |
| ------------------ | -------------------------- |
| Node.js + Express  | –°–µ—Ä–≤–µ—Ä —Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∏         |
| MongoDB + Mongoose | –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ç–∞ –º–æ–¥–µ–ª—ñ |
| Joi                | –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö            |
| CORS               | –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É           |
| Morgan             | –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤          |
| REST API           | –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ API            |

---

## üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/yourusername/air-quality-api.git
cd air-quality-api
```

### 2Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ MongoDB

```bash
mongod
```

**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:**

```
mongodb://127.0.0.1:27017/air_stations
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm start
```

API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

```
http://localhost:3000
```

---

## üì° –ú–∞—Ä—à—Ä—É—Ç–∏ API

### üèõ –°—Ç–∞–Ω—Ü—ñ—ó `/stations`

| –ú–µ—Ç–æ–¥  | Endpoint        | –û–ø–∏—Å                   |
| ------ | --------------- | ---------------------- |
| GET    | `/stations`     | –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Å—Ç–∞–Ω—Ü—ñ—ó   |
| GET    | `/stations/:id` | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é –∑–∞ ID |
| POST   | `/stations`     | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Å—Ç–∞–Ω—Ü—ñ—é  |
| PUT    | `/stations/:id` | –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é        |
| DELETE | `/stations/:id` | –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é       |
| DELETE | `/stations`     | –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Å—Ç–∞–Ω—Ü—ñ—ó   |

#### –ü—Ä–∏–∫–ª–∞–¥ POST `/stations`

```json
{
  "name": "Kyiv Central",
  "city": "Kyiv",
  "coordinates": {
    "lat": 50.45,
    "lon": 30.52
  },
  "contact": {
    "email": "kyiv@eco.ua",
    "phone": "+380501234567"
  },
  "measurements": ["pm2.5", "temperature"]
}
```

---

### üå´ –Ø–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è `/airquality`

| –ú–µ—Ç–æ–¥  | Endpoint                 | –û–ø–∏—Å                 |
| ------ | ------------------------ | -------------------- |
| GET    | `/airquality`            | –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏  |
| GET    | `/airquality/:id`        | –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–ø–∏—Å –∑–∞ ID |
| POST   | `/airquality/:stationId` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å |
| PUT    | `/airquality/:id`        | –û–Ω–æ–≤–∏—Ç–∏ –ø–æ–∫–∞–∑–Ω–∏–∫–∏    |
| DELETE | `/airquality/:id`        | –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å       |
| DELETE | `/airquality`            | –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏  |

#### –ü—Ä–∏–∫–ª–∞–¥ POST `/airquality/:stationId`

```json
{
  "pm25": 25,
  "pm10": 30,
  "co2": 410,
  "o3": 120,
  "no2": 80,
  "temperature": 22,
  "humidity": 45
}
```

---

## üõ° –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (Joi)

### üèõ –°—Ç–∞–Ω—Ü—ñ—ó

* `name` ‚Äî –º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏
* `city` ‚Äî –æ–±–æ–≤ º—è–∑–∫–æ–≤–µ –ø–æ–ª–µ
* `coordinates.lat` ‚Äî –≤—ñ–¥ ‚àí90 –¥–æ 90
* `coordinates.lon` ‚Äî –≤—ñ–¥ ‚àí180 –¥–æ 180
* `contact.email` ‚Äî –≤–∞–ª—ñ–¥–Ω–∏–π email
* `measurements` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

### üå´ –Ø–∫—ñ—Å—Ç—å –ø–æ–≤—ñ—Ç—Ä—è

| –ü–æ–ª–µ        | –î—ñ–∞–ø–∞–∑–æ–Ω |
| ----------- | -------- |
| pm25, pm10  | 0 ‚Äì 1000 |
| co2         | 0 ‚Äì 5000 |
| o3, no2     | 0 ‚Äì 500  |
| temperature | ‚àí50 ‚Äì 60 |
| humidity    | 0 ‚Äì 100  |

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

–§–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

```
api-tests.http
```

–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è:

* VS Code REST Client
* Thunder Client
* Postman

---

## üìå –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `populate()` –¥–ª—è –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å—Ç–∞–Ω—Ü—ñ—ó.
* –ß—ñ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `models ‚Üí routes ‚Üí validations`.
* Joi –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –ø–µ—Ä–µ–¥–∞–Ω–æ —Ö–æ—á–∞ –± –æ–¥–Ω–µ –ø–æ–ª–µ.
* –ü–æ–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (`try/catch`, HTTP-—Å—Ç–∞—Ç—É—Å–∏, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è).

---

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License
