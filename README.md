üåç Air Quality Monitoring API

REST API –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å—Ç–∞–Ω—Ü—ñ–π —Ç–∞ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è.
–°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–∞ Node.js + Express, –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö ‚Äì MongoDB, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è ‚Äì Joi, ODM ‚Äì Mongoose.

API –¥–æ–∑–≤–æ–ª—è—î:

—Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –π –∫–µ—Ä—É–≤–∞—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—è–º–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É;

–∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è;

–≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ CRUD-–æ–ø–µ—Ä–∞—Ü—ñ—ó;

–ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –¥–∞–Ω—ñ –Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
project/
‚îú‚îÄ‚îÄ models/
‚îÇ ‚îú‚îÄ‚îÄ airQuality.js
‚îÇ ‚îî‚îÄ‚îÄ station.js
‚îú‚îÄ‚îÄ routes/
‚îÇ ‚îú‚îÄ‚îÄ airQualityRoutes.js
‚îÇ ‚îî‚îÄ‚îÄ stationRoutes.js
‚îú‚îÄ‚îÄ validations/
‚îÇ ‚îú‚îÄ‚îÄ airQualityValidation.js
‚îÇ ‚îî‚îÄ‚îÄ stationValidation.js
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ Database.js
‚îú‚îÄ‚îÄ api-tests.http
‚îî‚îÄ‚îÄ package.js

üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

Node.js

Express

MongoDB + Mongoose

Joi ‚Äì —Å–µ—Ä–≤–µ—Ä–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è

CORS

Morgan ‚Äì –ª–æ–≥—É–≤–∞–Ω–Ω—è

REST API

üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/yourusername/air-quality-api.git
cd air-quality-api

2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ MongoDB (–ª–æ–∫–∞–ª—å–Ω–æ)
mongod


–ë–∞–∑–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:

mongodb://127.0.0.1:27017/air_stations

4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
npm start


API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

http://localhost:3000

üì° –ú–∞—Ä—à—Ä—É—Ç–∏ API
üèõ –°–¢–ê–ù–¶–Ü–á (/stations)
‚úî –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Å—Ç–∞–Ω—Ü—ñ—ó
GET /stations

‚úî –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é –∑–∞ ID
GET /stations/:id

‚úî –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é
POST /stations


Body:

{
  "name": "Kyiv Central",
  "city": "Kyiv",
  "coordinates": { "lat": 50.45, "lon": 30.52 },
  "contact": { "email": "kyiv@eco.ua", "phone": "+380501234567" },
  "measurements": ["pm2.5", "temperature"]
}

‚úî –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é
PUT /stations/:id

‚úî –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞–Ω—Ü—ñ—é
DELETE /stations/:id

‚úî –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Å—Ç–∞–Ω—Ü—ñ—ó
DELETE /stations

üå´ AIR QUALITY (/airquality)
‚úî –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏
GET /airquality

‚úî –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–ø–∏—Å –∑–∞ ID
GET /airquality/:id

‚úî –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å (–ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ —Å—Ç–∞–Ω—Ü—ñ—ó)
POST /airquality/:stationId


Body:

{
  "pm25": 25,
  "pm10": 30,
  "co2": 410,
  "o3": 120,
  "no2": 80,
  "temperature": 22,
  "humidity": 45
}

‚úî –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–ø–∏—Å
PUT /airquality/:id

‚úî –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–ø–∏—Å
DELETE /airquality/:id

‚úî –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏
DELETE /airquality

üõ° –í–∞–ª—ñ–¥–∞—Ü—ñ—è

–ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Joi –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–∞–Ω–∏—Ö:

‚úî –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç–∞–Ω—Ü—ñ–π

name ‚Äî –º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏

city ‚Äî –æ–±–æ–≤ º—è–∑–∫–æ–≤–µ –ø–æ–ª–µ

coordinates.lat ‚Äî –≤—ñ–¥ -90 –¥–æ 90

coordinates.lon ‚Äî –≤—ñ–¥ -180 –¥–æ 180

contact.email ‚Äî –≤–∞–ª—ñ–¥–Ω–∏–π email

measurements ‚Äî –ø–µ—Ä–µ–ª—ñ–∫ –¥–æ–ø—É—Å—Ç–∏–º–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

‚úî –í–∞–ª—ñ–¥–∞—Ü—ñ—è —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è

–û–±–æ–≤ º—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑ –¥—ñ–∞–ø–∞–∑–æ–Ω–∞–º–∏:

pm25, pm10 ‚Äî 0..1000

co2 ‚Äî 0..5000

o3, no2 ‚Äî 0..500

temperature ‚Äî -50..60

humidity ‚Äî 0..100

üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

–£ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —î —Ñ–∞–π–ª:

api-tests.http


–í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –≥–æ—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ –¥–ª—è VS Code / Thunder Client / Rest Client.

üìå –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è populate() –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å—Ç–∞–Ω—Ü—ñ—é –≤ –∑–∞–ø–∏—Å–∞—Ö —è–∫–æ—Å—Ç—ñ –ø–æ–≤—ñ—Ç—Ä—è.

–ß—ñ—Ç–∫–∏–π –ø–æ–¥—ñ–ª –Ω–∞ –º–æ–¥–µ–ª—ñ, –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é.

–ü–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º Joi –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ö–æ—á–∞ –± –æ–¥–Ω–µ –ø–æ–ª–µ –ø–µ—Ä–µ–¥–∞–Ω–µ.

–ü–æ–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (try/catch, –∫–æ–¥–∏ —Å—Ç–∞—Ç—É—Å—ñ–≤).


